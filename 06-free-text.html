<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Library Carpentry: The Unix Shell: Working with free text</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav library"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Library Carpentry" src="assets/images/library-logo.svg"></div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/06-free-text.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav library" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Library Carpentry" src="assets/images/library-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Library Carpentry: The Unix Shell
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Library Carpentry: The Unix Shell
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Library Carpentry: The Unix Shell
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 76%" class="percentage">
    76%
  </div>
  <div class="progress library">
    <div class="progress-bar library" role="progressbar" style="width: 76%" aria-valuenow="76" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/06-free-text.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-intro-shell.html">1. What is the shell?</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-navigating-the-filesystem.html">2. Navigating the filesystem</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-working-with-files-and-folders.html">3. Working with files and directories</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-loops.html">4. Automating the tedious with loops</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-counting-mining.html">5. Counting and mining with the shell</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        6. Working with free text
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#option-1-hand-transcribed-text">Option 1: Hand transcribed text</a></li>
<li><a href="#option-2-optical-character-recognised-text">Option 2: Optical character recognised text</a></li>
<li><a href="#option-3-a-webpage">Option 3: A webpage</a></li>
<li><a href="#where-to-go-next">Where to go next</a></li>
<li><a href="#conclusion">Conclusion</a></li>
<li><a href="#references">References</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li><li><a href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="05-counting-mining.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="index.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="05-counting-mining.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Counting and mining
        </a>
        <a class="chapter-link float-end" href="index.html" rel="next">
          Home
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Working with free text</h1>
        <p>Last updated on 2023-05-08 |
        
        <a href="https://github.com/librarycarpentry/lc-shell/edit/main/episodes/06-free-text.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How do we work with complex files?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Use shell tools to clean and transform free text</li>
</ul></div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="working-with-free-text">Working with free text<a class="anchor" aria-label="anchor" href="#working-with-free-text"></a></h3>
<p>So far we have looked at how to use the Unix shell to manipulate,
count, and mine tabulated data. Some library data, especially digitised
documents, is much messier than tabular metadata. Nonetheless, many of
the same techniques can be applied to non-tabulated data such as free
text. We need to think carefully about what it is we are counting and
how we can get the best out of the Unix shell.</p>
<p>Thankfully there are plenty of folks out there doing this sort of
work and we can borrow what they do as an introduction to working with
these more complex files. So for this final exercise we’re going to leap
forward a little in terms of difficulty to a scenario where we won’t
learn about everything that is happening in detail or discuss at length
each command. We’re going to prepare and pull apart texts to demonstrate
some of the potential applications of the Unix shell. And where commands
we’ve learnt about are used, I’ve left some of the figuring out to do to
you - so please refer to your notes if you get stuck!</p>
<p>Before going any further, speak to the person next to you and choose
which type of text you’d like to work on together. You have three
options:</p>
<ul><li>An example of hand transcribed text: <em>Gulliver’s Travels</em>
(1735)</li>
<li>An example of text captured by an optical character recognition
process: <em>General Report on the Physiography of Maryland. A
dissertation, etc. (Reprinted from Report of Maryland State Weather
Service.) [With maps and illustrations.]</em> 1898 (from <a href="https://doi.org/10.21250/db12" class="external-link">https://doi.org/10.21250/db12</a>)</li>
<li>An example of a webpage: Piper’s World (a GeoCities page from 1999
saved at <a href="https://wayback.archive.org/web/20091020080943/http:/geocities.com/Heartland/Hills/7649/diary.html" class="external-link">archive.org</a>)</li>
</ul></div>
<section id="option-1-hand-transcribed-text"><h2 class="section-heading">Option 1: Hand transcribed text<a class="anchor" aria-label="anchor" href="#option-1-hand-transcribed-text"></a>
</h2>
<hr class="half-width"><div class="section level3">
<h3 id="grabbing-a-text-cleaning-it-up">Grabbing a text, cleaning it up<a class="anchor" aria-label="anchor" href="#grabbing-a-text-cleaning-it-up"></a></h3>
<p>We’re going to work with the <code>gulliver.txt</code> file, which we
made in <a href="03-working-with-files-and-folders.html">Episode 3,
‘Working with files and directories’</a>. You should (still) be working
in the <code>shell-lesson</code> directory.</p>
<p>Let’s look at the file.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> less <span class="at">-N</span> gulliver.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>      1 &lt;U+FEFF&gt;The Project Gutenberg eBook, Gulliver's Travels, by Jonatha
      1 n Swift
      2
      3
      4 This eBook is for the use of anyone anywhere at no cost and with
      5 almost no restrictions whatsoever.  You may copy it, give it away o
      5 r
      6 re-use it under the terms of the Project Gutenberg License included
      7 with this eBook or online at www.gutenberg.org
      8
      9
     10
     11
     12
     13 Title: Gulliver's Travels
     14        into several remote nations of the world
     15
     16
     17 Author: Jonathan Swift
     18
     19
     20
     21 Release Date: June 15, 2009  [eBook #829]
     22
     23 Language: English
     24
     25 Character set encoding: UTF-8
     26
     27
     28 ***START OF THE PROJECT GUTENBERG EBOOK GULLIVER'S TRAVELS***
     29
     30
     31 Transcribed from the 1892 George Bell and Sons edition by David Pri
     31 ce,
     32 email ccx074@pglaf.org
     33
     34
     35</code></pre>
</div>
<p>We’re going to start by using the <code>sed</code> command. The
command allows you to edit files directly.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> sed <span class="st">'9352,9714d'</span> gulliver.txt <span class="op">&gt;</span> gulliver-nofoot.txt</span></code></pre>
</div>
<p>The command <code>sed</code> in combination with the <code>d</code>
value will look at <code>gulliver.txt</code> and delete all values
between the rows specified. The <code>&gt;</code> action then prompts
the script to this edited text to the new file specified.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> sed <span class="st">'1,37d'</span> gulliver-nofoot.txt <span class="op">&gt;</span> gulliver-noheadfoot.txt</span></code></pre>
</div>
<p>This does the same as before, but for the header.</p>
<p>You now have a cleaner text. The next step is to prepare it even
further for rigorous analysis.</p>
<p>We now use the <code>tr</code> command, used for translating or
deleting characters. Type and run:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> tr <span class="at">-d</span> <span class="st">'[:punct:]\r'</span> <span class="op">&lt;</span> gulliver-noheadfoot.txt <span class="op">&gt;</span> gulliver-noheadfootpunct.txt</span></code></pre>
</div>
<p>This uses the translate command and a special syntax to remove all
punctuation (<code>[:punct:]</code>) and carriage returns
(<code>\r</code>). It also requires the use of both the output redirect
<code>&gt;</code> we have seen and the input redirect <code>&lt;</code>
we haven’t seen.</p>
<p>Finally regularise the text by removing all the uppercase
lettering.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> tr <span class="st">'[:upper:]'</span> <span class="st">'[:lower:]'</span> <span class="op">&lt;</span> gulliver-noheadfootpunct.txt <span class="op">&gt;</span> gulliver-clean.txt</span></code></pre>
</div>
<p>Open the <code>gulliver-clean.txt</code> in a text editor. Note how
the text has been transformed ready for analysis.</p>
</div>
<div class="section level3">
<h3 id="pulling-a-text-apart-counting-word-frequencies">Pulling a text apart, counting word frequencies<a class="anchor" aria-label="anchor" href="#pulling-a-text-apart-counting-word-frequencies"></a></h3>
<p>We are now ready to pull the text apart.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> tr <span class="st">' '</span> <span class="st">'\n'</span> <span class="op">&lt;</span> gulliver-clean.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span> <span class="at">-c</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-nr</span> <span class="op">&gt;</span> gulliver-final.txt</span></code></pre>
</div>
<p>Here we’ve made extended use of the pipes we saw in <a href="05-counting-mining.html">Counting and mining with the shell</a>.
The first part of this script uses the translate command again, this
time to translate every blank space into <code>\n</code> which renders
as a new line. Every word in the file will at this stage have its own
line.</p>
<p>The second part uses the <code>sort</code> command to rearrange the
text from its original order into an alphabetical configuration.</p>
<p>The third part uses <code>uniq</code>, another new command, in
combination with the <code>-c</code> flag to remove duplicate lines and
to produce a word count of those duplicates.</p>
<p>The fourth and final part sorts the text again by the counts of
duplicates generated in step three.</p>
<div id="challenge" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge" class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#challenge"></a>
</h3>
<div class="callout-content">
<p>There are still some remaining punctuation marks in the text. They
are called ‘smart’ or ‘curly’ quotes. Can you remove them using
<code>sed</code>?</p>
<p>Hint: These quote marks are not among the 128 characters of the ASCII
standard, so in the file they are encoded using a different standard,
UTF-8. While this is no problem for <code>sed</code>, the window you are
typing into may not understand UTF-8. If so you will need to use a Bash
script; we encountered these at the end of episode 4, ‘Automating the
tedious with loops’.</p>
<p>As a reminder, use the text editor of your choice to write a file
that looks like this:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="co"># This script removes quote marks from gulliver-clean.txt and saves the result as gulliver-noquotes.txt</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="kw">(</span><span class="ex">replace</span> this line with your solution<span class="kw">)</span></span></code></pre>
</div>
<p>Save the file as <code>remove-quotes.sh</code> and run it from the
command line like this:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">bash</span> remove-quotes.sh</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">Show me the solution</h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="co"># This script removes quote marks from gulliver-clean.txt and saves the result as gulliver-noquotes.txt</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="fu">sed</span> <span class="at">-Ee</span> <span class="st">'s/[""‘'</span>]//g<span class="st">' gulliver-clean.txt &gt; gulliver-noquotes.txt</span></span></code></pre>
</div>
<p>If this doesn’t work for you, you might need to check whether your
text editor can save files using the UTF-8 encoding.</p>
</div>
</div>
</div>
</div>
<p>We have now taken the text apart and produced a count for each word
in it. This is data we can prod and poke and visualise, that can form
the basis of our investigations, and can compare with other texts
processed in the same way. And if we need to run a different set of
transformation for a different analysis, we can return to
<code>gulliver-clean.txt</code> to start that work.</p>
<p>And all this using a few commands on an otherwise unassuming but very
powerful command line.</p>
</div>
</section><section id="option-2-optical-character-recognised-text"><h2 class="section-heading">Option 2: Optical character recognised text<a class="anchor" aria-label="anchor" href="#option-2-optical-character-recognised-text"></a>
</h2>
<hr class="half-width"><div class="section level3">
<h3 id="grabbing-a-text-cleaning-it-up-1">Grabbing a text, cleaning it up<a class="anchor" aria-label="anchor" href="#grabbing-a-text-cleaning-it-up-1"></a></h3>
<p>We’re going to work with <code>201403160_01_text.json</code>.</p>
<p>Let’s look at the file.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> less <span class="at">-N</span> 201403160_01_text.json</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>      1 [[1, ""], [2, ""], [3, ""], [4, ""], [5, ""], [6, ""], [7, "A GENERAL RE
      1 PORT ON THE PHYSIOGRAPHY OF MARYLAND A DISSERTATION PRESENTED TO THE PRE
      1 SIDENT AND FACULTY OF THE JOHNS HOPKINS UNIVERSITY FOR THE DEGREE OF DOC
      1 TOR OF PHILOSOPHY BY CLEVELAND ABBE, Jr. BALTIMORE, MD. MAY, 1898."], [8
      1 , ""], [9, ""], [10, "A MAP S H OW I N G THE PHYSIOGRAPHIC PROVINCES OF
      1 MARYLAND AND Their Subdivisions Scale 1 : 2,000.000. 32 Miles-1 Inch"],
      1 [11, "A GENERAL REPORT ON THE PHYSIOGRAPHY OF MARYLAND A DISSERTATION PR
      1 ESENTED TO THE PRESIDENT AND FACULTY OF THE JOHNS HOPKINS UNIVERSITY FOR
      1  THE DEGREE OF DOCTOR OF PHILOSOPHY BY CLEVELAND ABBE, Jr. BALTIMORE, MD
      1 . MAY, 1898."], [12, "PRINTED BY tL%t jfricbcnrtxifti Compang BALTIMORE,
      1  MD., U. S. A. REPRINTED FROM Report of Maryland State Weather Service,
      1 Vol. 1, 1899, pp. 41-216."], [13, "A GENERAL REPORT ON THE PHYSIOGRAPHY
      1 OF MARYLAND Physiographic Processes. INTRODUCTION. From the earliest tim
      1 es men have observed more or less closely the various phenomena which na
      1 ture presents, and have sought to find an explanation for them. Among th
      1 e most interesting of these phe nomena have been those which bear on the
      1  development of the sur face features of the earth or its topography. Im
      1 pressed by the size and grandeur of the mountains, their jagged crests a
      1 nd scarred sides, early students of geographical features were prone to
      1 ascribe their origin to great convulsions of the earth's crust, earthqua
      1 kes and vol canic eruptions. One generation after another comes and goes
      1 , yet the mountains continue to rear their heads to the same heights, th
      1 e rivers to run down the mountain sides in the same courses and follow t</code></pre>
</div>
<p>We’re going to start by using the <code>tr</code> command, used for
translating or deleting characters. Type and run:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> tr <span class="at">-d</span> <span class="st">'[:punct:]'</span> <span class="op">&lt;</span> 201403160_01_text.json <span class="op">&gt;</span> 201403160_01_text-nopunct.txt</span></code></pre>
</div>
<p>This uses the translate command and a special syntax to remove all
punctuation. It also requires the use of both the output redirect
<code>&gt;</code> we have seen and the input redirect <code>&lt;</code>
we haven’t seen.</p>
<p>Finally regularise the text by removing all the uppercase
lettering.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">$</span> tr <span class="st">'[:upper:]'</span> <span class="st">'[:lower:]'</span> <span class="op">&lt;</span> 201403160_01_text-nopunct.txt <span class="op">&gt;</span> 201403160_01_text-clean.txt</span></code></pre>
</div>
<p>Open the <code>201403160_01_text-clean.txt</code> in a text editor.
Note how the text has been transformed ready for analysis.</p>
</div>
<div class="section level3">
<h3 id="pulling-a-text-apart-counting-word-frequencies-1">Pulling a text apart, counting word frequencies<a class="anchor" aria-label="anchor" href="#pulling-a-text-apart-counting-word-frequencies-1"></a></h3>
<p>We are now ready to pull the text apart.</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> tr <span class="st">' '</span> <span class="st">'\n'</span> <span class="op">&lt;</span> 201403160_01_text-clean.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span> <span class="at">-c</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-nr</span> <span class="op">&gt;</span> 201403160_01_text-final.txt</span></code></pre>
</div>
<p>Here we’ve made extended use of the pipes we saw in <a href="05-counting-mining.html">Counting and mining with the shell</a>.
The first part of this script uses the translate command again, this
time to translate every blank space into <code>\n</code> which renders
as a new line. Every word in the file will at this stage have its own
line.</p>
<p>The second part uses the <code>sort</code> command to rearrange the
text from its original order into an alphabetical configuration.</p>
<p>The third part uses <code>uniq</code>, another new command, in
combination with the <code>-c</code> flag to remove duplicate lines and
to produce a word count of those duplicates.</p>
<p>The fourth and final part sorts the text again by the counts of
duplicates generated in step three.</p>
<p><strong>Note: your final output will have one problem - not all the
words counted are real words (see the words counted only 1 or 2 times).
To better understand what has happened, search online to find out more
about Optical Character Recognition of texts</strong></p>
<p>Either way we have now taken the text apart and produced a count for
each word in it. This is data we can prod and poke and visualise, that
can form the basis of our investigations, and can compare with other
texts processed in the same way. And if we need to run a different set
of transformation for a different analysis, we can return to
<code>201403160_01_text-clean.txt</code> to start that work.</p>
<p>And all this using a few commands on an otherwise unassuming but very
powerful command line.</p>
</div>
</section><section id="option-3-a-webpage"><h2 class="section-heading">Option 3: A webpage<a class="anchor" aria-label="anchor" href="#option-3-a-webpage"></a>
</h2>
<hr class="half-width"><div class="section level3">
<h3 id="grabbing-a-text-cleaning-it-up-2">Grabbing a text, cleaning it up<a class="anchor" aria-label="anchor" href="#grabbing-a-text-cleaning-it-up-2"></a></h3>
<p>We’re going to work with <code>diary.html</code>.</p>
<p>Let’s look at the file.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> less <span class="at">-N</span> diary.html</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>      1 &lt;!-- This document was created with HomeSite v2.5 --&gt;
      2 &lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN"&gt;
      3 &lt;html&gt;
      4
      5 &lt;head&gt;
      6
      7
      8 &lt;script type="text/javascript" src="/static/js/analytics.js"&gt;&lt;/script&gt;
      9 &lt;script type="text/javascript"&gt;archive_analytics.values.server_name="www
      9 b-app6.us.archive.org";archive_analytics.values.server_ms=105;&lt;/script&gt;
     10 &lt;link type="text/css" rel="stylesheet" href="/static/css/banner-styles.c
     10 ss"/&gt;
     11
     12
     13 &lt;title&gt;Piper's Diary&lt;/title&gt;
     14 &lt;meta name="description"
     15 content="Come visit our shih tzu, Piper.  He has his very own photo gall
     15 ary, monthly diary, newsletter, and dog site award.  He also maintains d
     15 og book reviews and quotations.  Come check him out!"&gt;
     16 &lt;meta name="keywords"
     17 content="shih tzu, dog, pet, quotations, award, diary, advice, book, rev
     17 iew, piper"&gt;
     18 &lt;style TYPE="text/css" TITLE="Basic Fonts"&gt;
</code></pre>
</div>
<p>We’re going to start by using the <code>sed</code> command. The
command allows you to edit files directly.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> sed <span class="st">'265,330d'</span> diary.html <span class="op">&gt;</span> diary-nofoot.txt</span></code></pre>
</div>
<p>The command <code>sed</code> in combination with the <code>d</code>
value will look at <code>diary.html</code> and delete all values between
the rows specified. The <code>&gt;</code> action then prompts the script
to this edited text to the new file specified.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> sed <span class="st">'1,221d'</span> diary-nofoot.txt <span class="op">&gt;</span> diary-noheadfoot.txt</span></code></pre>
</div>
<p>This does the same as before, but for the header.</p>
<p>You now have a cleaner text. The next step is to prepare it even
further for rigorous analysis.</p>
<p>First we wil remove all the html tags. Type and run:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> sed <span class="at">-e</span> <span class="st">'s/&lt;[^&gt;]*&gt;//g'</span> diary-noheadfoot.txt <span class="op">&gt;</span> diary-notags.txt</span></code></pre>
</div>
<p>Here we are using a regular expression (see the <a href="https://librarycarpentry.org/lc-data-intro/01-regular-expressions" class="external-link">Library
Carpentry regular expression lesson</a> to find all valid html tags
(anything within angle brackets) and delete them). This is a complex
regular expression, so don’t worry too much about how it works! The
script also requires the use of both the output redirect
<code>&gt;</code> we have seen and the input redirect <code>&lt;</code>
we haven’t seen.</p>
<p>We’re going to start by using the <code>tr</code> command, used for
translating or deleting characters. Type and run:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> tr <span class="at">-d</span> <span class="st">'[:punct:]\r'</span> <span class="op">&lt;</span> diary-notags.txt <span class="op">&gt;</span> diary-notagspunct.txt</span></code></pre>
</div>
<p>This uses the translate command and a special syntax to remove all
punctuation (<code>[:punct:]</code>) and carriage returns
(<code>\r</code>).</p>
<p>Finally regularise the text by removing all the uppercase
lettering.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> tr <span class="st">'[:upper:]'</span> <span class="st">'[:lower:]'</span> <span class="op">&lt;</span> diary-notagspunct.txt <span class="op">&gt;</span> diary-clean.txt</span></code></pre>
</div>
<p>Open the <code>diary-clean.txt</code> in a text editor. Note how the
text has been transformed ready for analysis.</p>
</div>
<div class="section level3">
<h3 id="pulling-a-text-apart-counting-word-frequencies-2">Pulling a text apart, counting word frequencies<a class="anchor" aria-label="anchor" href="#pulling-a-text-apart-counting-word-frequencies-2"></a></h3>
<p>We are now ready to pull the text apart.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> tr <span class="st">' '</span> <span class="st">'\n'</span> <span class="op">&lt;</span> diary-clean.txt <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span> <span class="at">-c</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-nr</span> <span class="op">&gt;</span> diary-final.txt</span></code></pre>
</div>
<p>Here we’ve made extended use of the pipes we saw in <a href="05-counting-mining.html">Counting and mining with the shell</a>.
The first part of this script uses the translate command again, this
time to translate every blank space into <code>\n</code> which renders
as a new line. Every word in the file will at this stage have its own
line.</p>
<p>The second part uses the <code>sort</code> command to rearrange the
text from its original order into an alphabetical configuration.</p>
<p>The third part uses <code>uniq</code>, another new command, in
combination with the <code>-c</code> flag to remove duplicate lines and
to produce a word count of those duplicates.</p>
<p>The fourth and final part sorts the text again by the counts of
duplicates generated in step three.</p>
<p>We have now taken the text apart and produced a count for each word
in it. This is data we can prod and poke and visualise, that can form
the basis of our investigations, and can compare with other texts
processed in the same way. And if we need to run a different set of
transformation for a different analysis, we can return to
<code>diary-final.txt</code> to start that work.</p>
<p>And all this using a few commands on an otherwise unassuming but very
powerful command line.</p>
</div>
</section><section id="where-to-go-next"><h2 class="section-heading">Where to go next<a class="anchor" aria-label="anchor" href="#where-to-go-next"></a>
</h2>
<hr class="half-width"><p>Deborah S. Ray and Eric J. Ray, <em>Unix and Linux: visual quickstart
guide</em>, 4th edition (2009). Invaluable (and not expensive) as a
reference guide - especially if you only use the command line
sporadically!</p>
<p><a href="https://learncodethehardway.org/unix/" class="external-link">The Command Line
Crash Course</a> ‘Learn UNIX the Hard Way’ – good for reminders of the
basics.</p>
<p><a href="https://automatetheboringstuff.com/" class="external-link">Automate the Boring
Stuff</a></p>
<p>Another Coursera course, <a href="https://www.coursera.org/course/pythonlearn" class="external-link">Programming for
Everybody (Python)</a> is available and lasts 10 weeks, if you have 2-4
hours to spare per week. Python is popular in research programming as it
is readable, relatively simple, and very powerful.</p>
<p>Bill Turkel and the Digital History community more broadly. The
second lesson you did today was based on a lesson Bill has on <a href="https://williamjturkel.net/2013/06/15/basic-text-analysis-with-command-line-tools-in-linux/" class="external-link">his
website</a> and Bill is also a general editor of the <a href="https://programminghistorian.org/project-team" class="external-link">Programming
Historian</a>. The Programming Historian is an open, collaborative book
aimed at providing programming lessons to historians. Although the
lessons are hooked around problems historians have, their lessons -
which cover various programming languages - have a wide applicability -
indeed today’s course is based on two lessons I wrote with Ian Milligan,
an historian at Waterloo, Canada - for ProgHist. Bill also has a
wonderful tutorial on <a href="https://williamjturkel.net/2013/06/30/named-entity-recognition-with-command-line-tools-in-linux/" class="external-link">‘Named
Entity Recognition with Command Line Tools in Linux’</a> which I
thoroughly recommend if you want to automatically find, markup, and
count names, places, and organisations in text files…</p>
</section><section id="conclusion"><h2 class="section-heading">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<hr class="half-width"><p>In this session you have learned to navigate the Unix shell, to
undertake some basic file counting, concatenation and deletion, to query
across data for common strings, to save results and derived data, and to
prepare textual data for rigorous computational analysis.</p>
<p>This only scratches the surface of what the Unix environment is
capable of. It is hoped, however, that this session has provided a
taster sufficient to prompt further investigation and productive
play.</p>
<p>Keep in mind that the full potential the tools can offer may only
emerge upon embedding these skills into real projects. Nonetheless,
being able to manipulate, count and mine thousands of files is extremely
useful. Even a large collection of files which do not contain any
alpha-numeric data elements, such as image files, can be easily sorted,
selected and queried depending on the amount of description, of metadata
contained in each filename. If not a prerequisite of working with the
Unix, then taking the time to structure your data in a consistent and
predictable manner is certainly a significant step towards getting the
most out of Unix commands. And if you can find a way of using the Unix
shell regularly - perhaps only to copy or amend files - you’ll keep the
basics fresh, meaning that next time you have cause to use the Unix
shell for more complex commands, you shouldn’t need to learn it all over
again.</p>
</section><section id="references"><h2 class="section-heading">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<hr class="half-width"><p>James Baker and Ian Milligan, ‘Counting and mining research data with
Unix’, <em>The Programming Historian</em> (<a href="https://programminghistorian.org/lessons/research-data-with-unix" class="external-link">2014</a>)</p>
<p>Ian Milligan and James Baker, ‘Introduction to the Bash Command
Line’, <em>The Programming Historian</em> (<a href="https://programminghistorian.org/lessons/intro-to-bash" class="external-link">2014</a>)</p>
<p>William J. Turkel, ‘Named Entity Recognition with Command Line Tools
in Linux’ (<a href="https://williamjturkel.net/2013/06/30/named-entity-recognition-with-command-line-tools-in-linux/" class="external-link">30
June 2013</a>). The section ‘NER Demo’ is adapted from this and shared
under a <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" class="external-link">Creative
Commons Attribution-NonCommercial-ShareAlike 3.0 Unported</a>.</p>
<p>William J. Turkel, ‘Basic Text Analysis with Command Line Tools in
Linux’ (<a href="https://williamjturkel.net/2013/06/15/basic-text-analysis-with-command-line-tools-in-linux/" class="external-link">15
June 2013</a>). The sections ‘Grabbing a text, cleaning it up’ and
‘Pulling a text apart, counting word frequencies’ are adapted from this
and shared under a <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" class="external-link">Creative
Commons Attribution-NonCommercial-ShareAlike 3.0 Unported</a>.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul><li>Shell tools can be combined to powerful effect</li>
</ul></div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="05-counting-mining.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="index.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="05-counting-mining.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Counting and mining
        </a>
        <a class="chapter-link float-end" href="index.html" rel="next">
          Home
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/librarycarpentry/lc-shell/edit/main/episodes/06-free-text.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/librarycarpentry/lc-shell/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/librarycarpentry/lc-shell/" class="external-link">Source</a></p>
				<p><a href="https://github.com/librarycarpentry/lc-shell/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.4" class="external-link">sandpaper (0.16.4)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.5" class="external-link">pegboard (0.7.5)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.2" class="external-link">varnish (1.0.2)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://librarycarpentry.github.io/lc-shell/06-free-text.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Working with free text",
  "creativeWorkStatus": "active",
  "url": "https://librarycarpentry.github.io/lc-shell/06-free-text.html",
  "identifier": "https://librarycarpentry.github.io/lc-shell/06-free-text.html",
  "dateCreated": "2018-04-12",
  "dateModified": "2023-05-08",
  "datePublished": "2024-05-21"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

